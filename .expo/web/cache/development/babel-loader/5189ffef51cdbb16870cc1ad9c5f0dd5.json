{"ast":null,"code":"export var animationParameter = function () {\n  var _f = function _f(animationParam) {\n    if (typeof animationParam === \"number\") {\n      throw new Error(\"Expected Animation as parameter\");\n    }\n    return typeof animationParam === \"function\" ? animationParam() : animationParam;\n  };\n  _f._closure = {};\n  _f.asString = \"function animationParameter(animationParam){if(typeof animationParam===\\\"number\\\"){throw new Error(\\\"Expected Animation as parameter\\\");}return typeof animationParam===\\\"function\\\"?animationParam():animationParam;}\";\n  _f.__workletHash = 16964105267043;\n  _f.__location = \"D:\\\\nouveaux projet\\\\ajout panier buttonsheet\\\\node_modules\\\\@gorhom\\\\bottom-sheet\\\\node_modules\\\\react-native-redash\\\\lib\\\\module\\\\Animations.js (1:30)\";\n  global.__reanimatedWorkletInit(_f);\n  return _f;\n}();\nexport var defineAnimation = function () {\n  var _f = function _f(factory) {\n    if (_WORKLET) {\n      return factory();\n    }\n    return factory;\n  };\n  _f._closure = {};\n  _f.asString = \"function defineAnimation(factory){if(_WORKLET){return factory();}return factory;}\";\n  _f.__workletHash = 2039129594575;\n  _f.__location = \"D:\\\\nouveaux projet\\\\ajout panier buttonsheet\\\\node_modules\\\\@gorhom\\\\bottom-sheet\\\\node_modules\\\\react-native-redash\\\\lib\\\\module\\\\Animations.js (1:276)\";\n  global.__reanimatedWorkletInit(_f);\n  return _f;\n}();\nexport var withPause = function () {\n  var _f = function _f(animationParam, paused) {\n    return defineAnimation(function () {\n      var _f = function _f() {\n        var nextAnimation = animationParameter(animationParam);\n        var onFrame = function onFrame(state, now) {\n          var lastTimestamp = state.lastTimestamp,\n            elapsed = state.elapsed;\n          if (paused.value) {\n            state.elapsed = now - lastTimestamp;\n            return false;\n          }\n          var dt = now - elapsed;\n          var finished = nextAnimation.onFrame(nextAnimation, dt);\n          state.current = nextAnimation.current;\n          state.lastTimestamp = dt;\n          return finished;\n        };\n        var onStart = function onStart(state, value, now, previousState) {\n          state.lastTimestamp = now;\n          state.elapsed = 0;\n          nextAnimation.onStart(nextAnimation, value, now, previousState);\n        };\n        return {\n          onFrame: onFrame,\n          onStart: onStart,\n          callback: nextAnimation.callback\n        };\n      };\n      _f._closure = {\n        animationParameter: animationParameter,\n        animationParam: animationParam,\n        paused: paused\n      };\n      _f.asString = \"function _f(){const{animationParameter,animationParam,paused}=jsThis._closure;{var nextAnimation=animationParameter(animationParam);var onFrame=function onFrame(state,now){var lastTimestamp=state.lastTimestamp,elapsed=state.elapsed;if(paused.value){state.elapsed=now-lastTimestamp;return false;}var dt=now-elapsed;var finished=nextAnimation.onFrame(nextAnimation,dt);state.current=nextAnimation.current;state.lastTimestamp=dt;return finished;};var onStart=function onStart(state,value,now,previousState){state.lastTimestamp=now;state.elapsed=0;nextAnimation.onStart(nextAnimation,value,now,previousState);};return{onFrame:onFrame,onStart:onStart,callback:nextAnimation.callback};}}\";\n      _f.__workletHash = 17191968177356;\n      _f.__location = \"D:\\\\nouveaux projet\\\\ajout panier buttonsheet\\\\node_modules\\\\@gorhom\\\\bottom-sheet\\\\node_modules\\\\react-native-redash\\\\lib\\\\module\\\\Animations.js (1:464)\";\n      global.__reanimatedWorkletInit(_f);\n      return _f;\n    }());\n  };\n  _f._closure = {\n    defineAnimation: defineAnimation,\n    animationParameter: animationParameter\n  };\n  _f.asString = \"function withPause(animationParam,paused){const{defineAnimation,animationParameter}=jsThis._closure;{return defineAnimation(function(){var _f=function _f(){var nextAnimation=animationParameter(animationParam);var onFrame=function onFrame(state,now){var lastTimestamp=state.lastTimestamp,elapsed=state.elapsed;if(paused.value){state.elapsed=now-lastTimestamp;return false;}var dt=now-elapsed;var finished=nextAnimation.onFrame(nextAnimation,dt);state.current=nextAnimation.current;state.lastTimestamp=dt;return finished;};var onStart=function onStart(state,value,now,previousState){state.lastTimestamp=now;state.elapsed=0;nextAnimation.onStart(nextAnimation,value,now,previousState);};return{onFrame:onFrame,onStart:onStart,callback:nextAnimation.callback};};_f._closure={animationParameter:animationParameter,animationParam:animationParam,paused:paused};_f.asString=\\\"function _f(){const{animationParameter,animationParam,paused}=jsThis._closure;{var nextAnimation=animationParameter(animationParam);var onFrame=function onFrame(state,now){var lastTimestamp=state.lastTimestamp,elapsed=state.elapsed;if(paused.value){state.elapsed=now-lastTimestamp;return false;}var dt=now-elapsed;var finished=nextAnimation.onFrame(nextAnimation,dt);state.current=nextAnimation.current;state.lastTimestamp=dt;return finished;};var onStart=function onStart(state,value,now,previousState){state.lastTimestamp=now;state.elapsed=0;nextAnimation.onStart(nextAnimation,value,now,previousState);};return{onFrame:onFrame,onStart:onStart,callback:nextAnimation.callback};}}\\\";_f.__workletHash=17191968177356;_f.__location=\\\"D:\\\\\\\\nouveaux projet\\\\\\\\ajout panier buttonsheet\\\\\\\\node_modules\\\\\\\\@gorhom\\\\\\\\bottom-sheet\\\\\\\\node_modules\\\\\\\\react-native-redash\\\\\\\\lib\\\\\\\\module\\\\\\\\Animations.js (1:464)\\\";global.__reanimatedWorkletInit(_f);return _f;}());}}\";\n  _f.__workletHash = 263265166634;\n  _f.__location = \"D:\\\\nouveaux projet\\\\ajout panier buttonsheet\\\\node_modules\\\\@gorhom\\\\bottom-sheet\\\\node_modules\\\\react-native-redash\\\\lib\\\\module\\\\Animations.js (1:389)\";\n  global.__reanimatedWorkletInit(_f);\n  return _f;\n}();\nexport var withBouncing = function () {\n  var _f = function _f(animationParam, lowerBound, upperBound) {\n    return defineAnimation(function () {\n      var _f = function _f() {\n        var nextAnimation = animationParameter(animationParam);\n        var onFrame = function onFrame(state, now) {\n          var finished = nextAnimation.onFrame(nextAnimation, now);\n          var velocity = nextAnimation.velocity,\n            current = nextAnimation.current;\n          state.current = current;\n          if (velocity < 0 && state.current <= lowerBound || velocity > 0 && state.current >= upperBound) {\n            state.current = velocity < 0 ? lowerBound : upperBound;\n            nextAnimation.velocity *= -0.5;\n          }\n          return finished;\n        };\n        var onStart = function onStart(_state, value, now, previousState) {\n          nextAnimation.onStart(nextAnimation, value, now, previousState);\n        };\n        return {\n          onFrame: onFrame,\n          onStart: onStart,\n          callback: nextAnimation.callback\n        };\n      };\n      _f._closure = {\n        animationParameter: animationParameter,\n        animationParam: animationParam,\n        lowerBound: lowerBound,\n        upperBound: upperBound\n      };\n      _f.asString = \"function _f(){const{animationParameter,animationParam,lowerBound,upperBound}=jsThis._closure;{var nextAnimation=animationParameter(animationParam);var onFrame=function onFrame(state,now){var finished=nextAnimation.onFrame(nextAnimation,now);var velocity=nextAnimation.velocity,current=nextAnimation.current;state.current=current;if(velocity<0&&state.current<=lowerBound||velocity>0&&state.current>=upperBound){state.current=velocity<0?lowerBound:upperBound;nextAnimation.velocity*=-0.5;}return finished;};var onStart=function onStart(_state,value,now,previousState){nextAnimation.onStart(nextAnimation,value,now,previousState);};return{onFrame:onFrame,onStart:onStart,callback:nextAnimation.callback};}}\";\n      _f.__workletHash = 11962071797711;\n      _f.__location = \"D:\\\\nouveaux projet\\\\ajout panier buttonsheet\\\\node_modules\\\\@gorhom\\\\bottom-sheet\\\\node_modules\\\\react-native-redash\\\\lib\\\\module\\\\Animations.js (1:1207)\";\n      global.__reanimatedWorkletInit(_f);\n      return _f;\n    }());\n  };\n  _f._closure = {\n    defineAnimation: defineAnimation,\n    animationParameter: animationParameter\n  };\n  _f.asString = \"function withBouncing(animationParam,lowerBound,upperBound){const{defineAnimation,animationParameter}=jsThis._closure;{return defineAnimation(function(){var _f=function _f(){var nextAnimation=animationParameter(animationParam);var onFrame=function onFrame(state,now){var finished=nextAnimation.onFrame(nextAnimation,now);var velocity=nextAnimation.velocity,current=nextAnimation.current;state.current=current;if(velocity<0&&state.current<=lowerBound||velocity>0&&state.current>=upperBound){state.current=velocity<0?lowerBound:upperBound;nextAnimation.velocity*=-0.5;}return finished;};var onStart=function onStart(_state,value,now,previousState){nextAnimation.onStart(nextAnimation,value,now,previousState);};return{onFrame:onFrame,onStart:onStart,callback:nextAnimation.callback};};_f._closure={animationParameter:animationParameter,animationParam:animationParam,lowerBound:lowerBound,upperBound:upperBound};_f.asString=\\\"function _f(){const{animationParameter,animationParam,lowerBound,upperBound}=jsThis._closure;{var nextAnimation=animationParameter(animationParam);var onFrame=function onFrame(state,now){var finished=nextAnimation.onFrame(nextAnimation,now);var velocity=nextAnimation.velocity,current=nextAnimation.current;state.current=current;if(velocity<0&&state.current<=lowerBound||velocity>0&&state.current>=upperBound){state.current=velocity<0?lowerBound:upperBound;nextAnimation.velocity*=-0.5;}return finished;};var onStart=function onStart(_state,value,now,previousState){nextAnimation.onStart(nextAnimation,value,now,previousState);};return{onFrame:onFrame,onStart:onStart,callback:nextAnimation.callback};}}\\\";_f.__workletHash=11962071797711;_f.__location=\\\"D:\\\\\\\\nouveaux projet\\\\\\\\ajout panier buttonsheet\\\\\\\\node_modules\\\\\\\\@gorhom\\\\\\\\bottom-sheet\\\\\\\\node_modules\\\\\\\\react-native-redash\\\\\\\\lib\\\\\\\\module\\\\\\\\Animations.js (1:1207)\\\";global.__reanimatedWorkletInit(_f);return _f;}());}}\";\n  _f.__workletHash = 2649007920645;\n  _f.__location = \"D:\\\\nouveaux projet\\\\ajout panier buttonsheet\\\\node_modules\\\\@gorhom\\\\bottom-sheet\\\\node_modules\\\\react-native-redash\\\\lib\\\\module\\\\Animations.js (1:1114)\";\n  global.__reanimatedWorkletInit(_f);\n  return _f;\n}();","map":{"version":3,"sources":["Animations.ts"],"names":["animationParameter","animationParam","Error","defineAnimation","factory","_WORKLET","withPause","paused","nextAnimation","onFrame","state","now","lastTimestamp","elapsed","value","dt","finished","current","onStart","previousState","callback","withBouncing","lowerBound","upperBound","velocity","_state"],"mappings":"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","sourcesContent":["import type Animated from \"react-native-reanimated\";\n\ndeclare let _WORKLET: boolean;\n\nexport interface AnimationState {\n  current: number;\n}\n\nexport interface PhysicsAnimationState extends AnimationState {\n  velocity: number;\n}\n\nexport type Animation<\n  State extends AnimationState = AnimationState,\n  PrevState = State\n> = {\n  onFrame: (animation: State, now: number) => boolean;\n  onStart: (\n    animation: State,\n    value: number,\n    now: number,\n    lastAnimation: PrevState\n  ) => void;\n  callback?: () => void;\n} & State;\n\nexport type AnimationParameter<State extends AnimationState = AnimationState> =\n  | Animation<State>\n  | (() => Animation<State>)\n  | number;\n\n/**\n *  @summary Access animations passed as parameters safely on both the UI and JS thread with the proper static types.\n *  Animations can receive other animations as parameter.\n */\nexport const animationParameter = <\n  State extends AnimationState = AnimationState\n>(\n  animationParam: AnimationParameter<State>\n) => {\n  \"worklet\";\n  if (typeof animationParam === \"number\") {\n    throw new Error(\"Expected Animation as parameter\");\n  }\n  return typeof animationParam === \"function\"\n    ? animationParam()\n    : animationParam;\n};\n\n/**\n *  @summary Declare custom animations that can be invoked on both the JS and UI thread.\n *  @example\n *  defineAnimation(() => {\n      \"worklet\";\n      // ...animation code\n      return {\n        animation,\n       start\n      }\n    });\n * @worklet\n */\nexport const defineAnimation = <\n  S extends AnimationState = AnimationState,\n  Prev extends AnimationState = AnimationState\n>(\n  factory: () => Omit<Animation<S, Prev>, keyof S>\n) => {\n  \"worklet\";\n  if (_WORKLET) {\n    return (factory() as unknown) as number;\n  }\n  return (factory as unknown) as number;\n};\n\ninterface PausableAnimation extends AnimationState {\n  lastTimestamp: number;\n  elapsed: number;\n}\n\n/**\n *  @summary Make an animation pausable. The state of the animation (paused or not)\n *  is controlled by a boolean shared value.\n *  @example\n    const progress = useSharedValue(0);\n    const paused = useSharedValue(false);\n    useEffect(() => {\n      progress.value = withPause(withLoop(withTiming(1)), paused);\n    }, []);\n  * @worklet\n */\nexport const withPause = (\n  animationParam: AnimationParameter,\n  paused: Animated.SharedValue<boolean>\n) => {\n  \"worklet\";\n  return defineAnimation<PausableAnimation>(() => {\n    \"worklet\";\n    const nextAnimation = animationParameter(animationParam);\n    const onFrame = (state: PausableAnimation, now: number) => {\n      const { lastTimestamp, elapsed } = state;\n      if (paused.value) {\n        state.elapsed = now - lastTimestamp;\n        return false;\n      }\n      const dt = now - elapsed;\n      const finished = nextAnimation.onFrame(nextAnimation, dt);\n      state.current = nextAnimation.current;\n      state.lastTimestamp = dt;\n      return finished;\n    };\n    const onStart = (\n      state: PausableAnimation,\n      value: number,\n      now: number,\n      previousState: AnimationState\n    ) => {\n      state.lastTimestamp = now;\n      state.elapsed = 0;\n      nextAnimation.onStart(nextAnimation, value, now, previousState);\n    };\n    return {\n      onFrame,\n      onStart,\n      callback: nextAnimation.callback,\n    };\n  });\n};\n\n/**\n *  @summary Add a bouncing behavior to a physics-based animation.\n *  An animation is defined as being physics-based if it contains a velocity in its state.\n *  @example\n    // will bounce if the animations hits the position 0 or 100\n    withBouncing(withDecay({ velocity }), 0, 100)\n * @worklet\n */\nexport const withBouncing = (\n  animationParam: AnimationParameter<PhysicsAnimationState>,\n  lowerBound: number,\n  upperBound: number\n): number => {\n  \"worklet\";\n  return defineAnimation<PhysicsAnimationState, PhysicsAnimationState>(() => {\n    \"worklet\";\n    const nextAnimation = animationParameter(animationParam);\n    const onFrame = (state: PhysicsAnimationState, now: number) => {\n      const finished = nextAnimation.onFrame(nextAnimation, now);\n      const { velocity, current } = nextAnimation;\n      state.current = current;\n      if (\n        (velocity < 0 && state.current <= lowerBound) ||\n        (velocity > 0 && state.current >= upperBound)\n      ) {\n        state.current = velocity < 0 ? lowerBound : upperBound;\n        nextAnimation.velocity *= -0.5;\n      }\n      return finished;\n    };\n    const onStart = (\n      _state: PhysicsAnimationState,\n      value: number,\n      now: number,\n      previousState: PhysicsAnimationState\n    ) => {\n      nextAnimation.onStart(nextAnimation, value, now, previousState);\n    };\n    return {\n      onFrame,\n      onStart,\n      callback: nextAnimation.callback,\n    };\n  });\n};\n"]},"metadata":{},"sourceType":"module"}